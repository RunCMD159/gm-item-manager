<app-file-loader (fileContent)="whenContentLoaded($event)"></app-file-loader>
<button (click)="togglePreview()">Preview</button>
<mat-drawer-container class="example-container">
  <mat-drawer mode="side" [opened]="this.showPreview">
    <h1>Preview</h1>
    <pre>{{ preview$|async|json }}</pre>
  </mat-drawer>
  <mat-drawer-content>
    <form [formGroup]="model.getControl()">
      <div>
        <h1>root</h1>
        @for (child of model.children(); track child) {
          @if (child | isGroup) {
            @if (child |asGroup; as groupItem) {
              <app-group [item]="groupItem"></app-group>
            }
          } @else if (child | isArray) {
            @if (child |asArray; as arrayItem) {
              <app-array [item]="arrayItem"></app-array>
            }
          } @else {
            @if (child | asControl; as controlItem) {
              <app-control [item]="controlItem"></app-control>
            }
          }
        }
      </div>
    </form>
  </mat-drawer-content>
</mat-drawer-container>


